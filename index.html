<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Calorias - SlimBurner</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Calculadora de Calorias</h1>
        </header>

        <main>
            <form id="calorieForm">
                <label for="peso">Peso (kg):</label>
                <input type="number" id="peso" placeholder="Digite seu peso" required>

                <label for="altura">Altura (cm):</label>
                <input type="number" id="altura" placeholder="Digite sua altura" required>

                <label for="idade">Idade:</label>
                <input type="number" id="idade" placeholder="Digite sua idade" required>

                <label for="sexo">Sexo:</label>
                <select id="sexo">
                    <option value="">Selecione</option>
                    <option value="masculino">Masculino</option>
                    <option value="feminino">Feminino</option>
                </select>

                <label for="atividade">Nível de Atividade Física:</label>
                <select id="atividade">
                    <option value="">Selecione</option>
                    <option value="1.2">Sedentário</option>
                    <option value="1.375">Levemente ativo</option>
                    <option value="1.55">Moderadamente ativo</option>
                    <option value="1.725">Muito ativo</option>
                </select>

                <button type="button" onclick="calcularCalorias()">Calcular</button>
            </form>

            <p id="resultado"></p>

            <!-- Botão "Prosseguir" inicialmente oculto -->
            <button id="prosseguirButton" style="display: none;" onclick="prosseguir()">Prosseguir</button>
        </main>

        <footer>
            <p>&copy; 2024 SlimBurner</p>
        </footer>
    </div>

    <script>
        let calculoFeito = false;

        function calcularCalorias() {
            var peso = document.getElementById("peso").value;
            var altura = document.getElementById("altura").value;
            var idade = document.getElementById("idade").value;
            var sexo = document.getElementById("sexo").value;
            var atividade = document.getElementById("atividade").value;

            if (!peso || !altura || !idade || !sexo || !atividade) {
                alert("Por favor, preencha todos os campos.");
                return;
            }

            var calorias = 0;
            if (sexo === "masculino") {
                calorias = 66 + (13.7 * peso) + (5 * altura) - (6.8 * idade);
            } else {
                calorias = 655 + (9.6 * peso) + (1.8 * altura) - (4.7 * idade);
            }

            calorias *= atividade;

            document.getElementById("resultado").innerHTML = "Você precisa de " + calorias.toFixed(2) + " calorias por dia.";
            localStorage.setItem("calorias", calorias);

            // Após o cálculo, o botão "Prosseguir" é exibido
            calculoFeito = true;
            document.getElementById("prosseguirButton").style.display = "block";
        }

        function prosseguir() {
            if (calculoFeito) {
                window.location.href = "personalizacao.html";
            } else {
                alert("Por favor, complete o cálculo antes de prosseguir.");
            }
        }
    </script>
</body>
</html>
